<% title('Relic Gear') %>
<% description("Track your character's miscellaneous relic gear.") %>
<%= javascript_tag "window._token = '#{form_authenticity_token}'" %>

<div class="d-flex justify-content-end mb-2">
  <button class="btn btn-secondary btn-sm mr-1" id="collapseToggle" data-expanded="false">
    <%= fa_icon('expand', text: 'Expand All') %>
  </button>
</div>

<% @eureka_elemental_gear.each do |name, gear| %>
  <div class="card mb-3">
    <%= render 'header', relic: gear, name: name %>
    <div class="collapse hide" id="<%= collapse_id(name) %>">
      <div class="card-body collection py-3">
        <%= render partial: 'gear', collection: gear.each_slice(5).to_a.transpose, locals: { sprite_image: 'items-gear' } %>
      </div>
    </div>
  </div>
<% end %>

<% @eureka_job_gear.each do |name, gear| %>
  <div class="card mb-3">
    <%= render 'header', relic: gear, name: name %>
    <div class="collapse hide" id="<%= collapse_id(name) %>">
      <div class="card-body collection py-3">
        <%= render partial: 'gear', collection: gear.each_slice(5).to_a.transpose, locals: { sprite_image: 'items-gear' } %>
      </div>
    </div>
  </div>
<% end %>

<div class="card mb-3">
  <%= render 'header', relic: @deep_dungeon_weapons, name: 'Deep Dungeon' %>
  <div class="collapse hide" id="collapse-deep-dungeon">
    <div class="card-body collection py-3">
      <%= render partial: 'gear', collection: @deep_dungeon_weapons.each_slice(17).to_a,
        locals: { sprite_image: 'items-deep_dungeon' } %>
    </div>
  </div>
</div>

<div class="card mb-3">
  <%= render 'header', relic: @arr_relic_weapons, name: 'A Relic Reborn' %>
  <div class="collapse hide" id="collapse-a-relic-reborn">
    <div class="card-body collection py-3">
      <%= render partial: 'gear', collection: @arr_relic_weapons.each_slice(11).to_a, locals: { sprite_image: 'items-gear' } %>
    </div>
  </div>
</div>
