<% title('Relic Gear') %>
<% description("Track your character's relic gear.") %>
<%= javascript_tag "window._token = '#{form_authenticity_token}'" %>

<div class="d-flex justify-content-end mb-2">
  <button class="btn btn-secondary btn-sm mr-1" id="collapseToggle" data-expanded="false">
    <%= fa_icon('expand', text: 'Expand All') %>
  </button>
</div>

<div class="card mb-3">
  <%= render 'header', relic: @idealized_gear, name: 'Idealized Gear' %>
  <div class="collapse hide" id="collapse-idealized-gear">
    <div class="card-body collection py-3">
      <%= render partial: 'gear', collection: @idealized_gear.each_slice(5).to_a.transpose,
        locals: { sprite_image: 'items-gear' } %>
    </div>
  </div>
</div>

<% @eureka_elemental_gear.each do |name, gear| %>
  <div class="card mb-3">
    <%= render 'header', relic: gear, name: name %>
    <div class="collapse hide" id="<%= collapse_id(name) %>">
      <div class="card-body collection py-3">
        <%= render partial: 'gear', collection: gear.each_slice(5).to_a.transpose, locals: { sprite_image: 'items-gear' } %>
      </div>
    </div>
  </div>
<% end %>

<% @eureka_job_gear.each do |name, gear| %>
  <div class="card mb-3">
    <%= render 'header', relic: gear, name: name %>
    <div class="collapse hide" id="<%= collapse_id(name) %>">
      <div class="card-body collection py-3">
        <%= render partial: 'gear', collection: gear.each_slice(5).to_a.transpose, locals: { sprite_image: 'items-gear' } %>
      </div>
    </div>
  </div>
<% end %>
